Version 4
SHEET 1 3080 1200
WIRE 1376 -736 1216 -736
WIRE 1824 -736 1456 -736
WIRE 1872 -736 1824 -736
WIRE 1216 -640 1216 -656
WIRE -528 -544 -768 -544
WIRE -48 -544 -448 -544
WIRE 336 -544 -48 -544
WIRE 784 -544 416 -544
WIRE 880 -544 864 -544
WIRE 944 -544 880 -544
WIRE 1008 -544 944 -544
WIRE 1136 -544 1088 -544
WIRE 1216 -496 1216 -512
WIRE 1216 -496 1120 -496
WIRE 1824 -496 1824 -736
WIRE 336 -480 -288 -480
WIRE 784 -480 416 -480
WIRE 880 -480 880 -544
WIRE 880 -480 864 -480
WIRE 1072 -480 992 -480
WIRE -560 -448 -624 -448
WIRE -512 -448 -512 -496
WIRE -512 -448 -560 -448
WIRE -336 -448 -512 -448
WIRE -288 -448 -288 -480
WIRE 992 -448 992 -480
WIRE 1120 -448 1120 -496
WIRE 1216 -448 1216 -496
WIRE -336 -432 -336 -448
WIRE 1072 -432 1072 -480
WIRE -464 -368 -464 -496
WIRE -464 -368 -624 -368
WIRE -336 -368 -336 -384
WIRE -336 -368 -464 -368
WIRE 992 -352 992 -368
WIRE 1072 -352 1072 -384
WIRE 1072 -352 992 -352
WIRE -768 -320 -768 -464
WIRE -288 -320 -288 -368
WIRE -288 -320 -768 -320
WIRE 992 -320 992 -352
WIRE 992 -320 -288 -320
WIRE 1120 -320 1120 -368
WIRE 1120 -320 992 -320
WIRE 1216 -320 1216 -368
WIRE 1216 -320 1120 -320
WIRE 1280 -320 1216 -320
WIRE 1312 -320 1280 -320
WIRE 1408 -320 1392 -320
WIRE 1440 -320 1408 -320
WIRE 1600 -320 1520 -320
WIRE 1824 -320 1824 -416
WIRE -624 -304 -624 -368
WIRE 1600 -304 1600 -320
WIRE 1216 -224 1216 -240
WIRE 1600 -144 1600 -224
WIRE 1600 -144 1568 -144
WIRE 1680 -144 1600 -144
WIRE -368 -128 -608 -128
WIRE -32 -128 -288 -128
WIRE 336 -128 -32 -128
WIRE 768 -128 416 -128
WIRE 880 -128 848 -128
WIRE 928 -128 880 -128
WIRE 992 -128 928 -128
WIRE 1136 -128 1072 -128
WIRE 1072 -112 1008 -112
WIRE -608 -96 -608 -128
WIRE 1216 -96 1120 -96
WIRE 1680 -96 1680 -144
WIRE 1008 -80 1008 -112
WIRE 1120 -80 1120 -96
WIRE 1568 -80 1568 -144
WIRE -432 -64 -464 -64
WIRE -352 -64 -352 -80
WIRE -352 -64 -432 -64
WIRE -80 -64 -352 -64
WIRE 336 -64 -32 -64
WIRE 768 -64 416 -64
WIRE 880 -64 880 -128
WIRE 880 -64 848 -64
WIRE 1072 -64 1072 -112
WIRE 1216 -64 1216 -96
WIRE -80 -48 -80 -64
WIRE -304 16 -304 -80
WIRE -304 16 -464 16
WIRE -80 16 -80 0
WIRE -80 16 -304 16
WIRE 1008 32 1008 0
WIRE 1072 32 1072 -16
WIRE 1072 32 1008 32
WIRE -608 64 -608 -16
WIRE -32 64 -32 16
WIRE -32 64 -608 64
WIRE 1008 64 1008 32
WIRE 1008 64 -32 64
WIRE 1120 64 1120 0
WIRE 1120 64 1008 64
WIRE 1216 64 1216 16
WIRE 1216 64 1120 64
WIRE 1360 64 1216 64
WIRE 1568 64 1568 -16
WIRE 1568 64 1440 64
WIRE 1680 64 1680 -16
WIRE 1680 64 1568 64
WIRE 1824 64 1824 -240
WIRE 1824 64 1680 64
WIRE 2000 64 1824 64
WIRE -464 80 -464 16
WIRE 2000 80 2000 64
FLAG 1280 -320 Vsw
FLAG 1872 -736 Vdc
FLAG 944 -544 VG_HS
FLAG 928 -128 VG_LS
FLAG 2000 80 0
FLAG 1680 -144 Vout
FLAG 1216 -496 U1_S
FLAG 1216 -96 U2_S
FLAG -48 -544 IN_HS
FLAG -32 -128 IN_LS
FLAG -624 -304 0
FLAG -464 80 0
FLAG -560 -448 VHS
FLAG -432 -64 VLS
FLAG 1408 -320 Vsw1
SYMBOL voltage -624 -464 R0
WINDOW 3 -211 112 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 -79 227 Left 2
WINDOW 0 -43 7 Left 2
SYMATTR Value PULSE(0 5 0 1n 1n {dutyCycle/freq} {1/freq})
SYMATTR InstName V16
SYMBOL voltage 1824 -336 R0
WINDOW 123 0 0 Left 2
WINDOW 39 17 132 Left 2
WINDOW 3 12 109 Left 2
SYMATTR Value {Vin}
SYMATTR InstName V1
SYMBOL voltage -464 -80 R0
WINDOW 3 -517 121 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 -71 189 Left 2
WINDOW 0 -35 10 Left 2
SYMATTR Value PULSE(0 5 {dutyCycle/freq+tdead} 1n 1n {1/freq-dutyCycle/freq-2*tdead} {1/freq})
SYMATTR InstName V26
SYMBOL ind 1424 -304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 1.5µ
SYMATTR SpiceLine Rser=1u
SYMBOL cap 1552 -80 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL ind 1200 -464 R0
SYMATTR InstName L2
SYMATTR Value {CSI}
SYMBOL ind 1200 -80 R0
SYMATTR InstName L3
SYMATTR Value {CSI}
SYMBOL sw 1120 -464 R0
WINDOW 3 7 101 Left 2
SYMATTR Value MYSW
SYMATTR InstName S1
SYMBOL sw 1120 -96 R0
WINDOW 3 9 99 Left 2
SYMATTR Value MYSW
SYMATTR InstName S2
SYMBOL voltage 992 -352 R180
WINDOW 0 24 96 Left 2
WINDOW 3 -70 15 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value {CSI_DISABLE}
SYMBOL voltage 1008 16 R180
WINDOW 0 24 96 Left 2
WINDOW 3 -60 8 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value {CSI_DISABLE}
SYMBOL res 1408 -336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 0.0007
SYMBOL res 1808 -512 R0
SYMATTR InstName R2
SYMATTR Value 1m
SYMBOL res 880 -560 R90
WINDOW 0 0 18 VBottom 2
WINDOW 3 -27 103 VTop 2
SYMATTR InstName R12
SYMATTR Value 1.8
SYMBOL res 864 -144 R90
WINDOW 0 -1 25 VBottom 2
WINDOW 3 -28 100 VTop 2
SYMATTR InstName R22
SYMATTR Value 1.8
SYMBOL sw -432 -544 M270
WINDOW 3 -19 24 VLeft 2
WINDOW 0 39 30 VLeft 2
SYMATTR Value GD_PU
SYMATTR InstName S12
SYMBOL voltage -768 -560 R0
WINDOW 3 -36 100 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 -79 227 Left 2
WINDOW 0 -54 16 Left 2
SYMATTR Value 5
SYMATTR InstName V15
SYMBOL sw -272 -128 M270
WINDOW 3 -19 15 VLeft 2
WINDOW 0 39 30 VLeft 2
SYMATTR Value GD_PU
SYMATTR InstName S22
SYMBOL voltage -608 -112 R0
WINDOW 3 -36 100 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 -79 227 Left 2
WINDOW 0 -54 16 Left 2
SYMATTR Value 5
SYMATTR InstName V25
SYMBOL res 880 -496 R90
WINDOW 0 0 18 VBottom 2
WINDOW 3 -27 103 VTop 2
SYMATTR InstName R11
SYMATTR Value 0.5
SYMBOL res 864 -80 R90
WINDOW 0 -1 25 VBottom 2
WINDOW 3 -28 100 VTop 2
SYMATTR InstName R21
SYMATTR Value 0.5
SYMBOL res 1664 -112 R0
SYMATTR InstName RLoad
SYMATTR Value {Vin*dutyCycle/Iout}
SYMBOL res 1200 -752 R0
SYMATTR InstName R1d
SYMATTR Value 1µ
SYMBOL res 1200 -336 R0
SYMATTR InstName R2d
SYMATTR Value 1µ
SYMBOL res 992 -560 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1g
SYMATTR Value 1µ
SYMBOL res 976 -144 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2g
SYMATTR Value 1µ
SYMBOL EPCGaN 1136 -544 R0
WINDOW 0 97 -83 Left 2
WINDOW 3 -56 -106 Left 2
WINDOW 123 -106 -80 Left 2
SYMATTR InstName U1
SYMATTR Value EPC2619
SYMATTR Value2 Temp={Tj1}
SYMBOL EPCGaN 1136 -128 R0
WINDOW 0 97 -83 Left 2
WINDOW 3 -56 -106 Left 2
WINDOW 123 -106 -80 Left 2
SYMATTR InstName U2
SYMATTR Value EPC2619
SYMATTR Value2 Temp={Tj1}
SYMBOL sw -288 -352 M180
SYMATTR InstName S11
SYMATTR Value GD_PD
SYMBOL sw -32 32 M180
WINDOW 3 40 59 Left 2
SYMATTR Value GD_PD
SYMATTR InstName S21
SYMBOL res 432 -560 R90
WINDOW 0 3 133 VBottom 2
WINDOW 3 -24 9 VTop 2
SYMATTR InstName R12gd
SYMATTR Value {RGD_PU}
SYMBOL res 432 -496 R90
WINDOW 0 12 127 VBottom 2
WINDOW 3 -16 4 VTop 2
SYMATTR InstName R11gd
SYMATTR Value {RGD_PD}
SYMBOL res 432 -144 R90
WINDOW 0 4 128 VBottom 2
WINDOW 3 -24 7 VTop 2
SYMATTR InstName R22gd
SYMATTR Value {RGD_PU}
SYMBOL res 432 -80 R90
WINDOW 0 5 130 VBottom 2
WINDOW 3 -18 6 VTop 2
SYMATTR InstName R21gd
SYMATTR Value {RGD_PD}
SYMBOL res 1472 -752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rq1
SYMATTR Value 0.00197
SYMBOL res 1456 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rq2
SYMATTR Value 0.00036
SYMBOL res 1584 -320 R0
SYMATTR InstName R5
SYMATTR Value 0.00049
TEXT 296 600 Left 2 !.tran 0 0.6ms {0.6m-10/{freq}}
TEXT 384 -880 Left 2 !.param Vin=48 dutyCycle=0.25 Iout=16 freq=500000 tdead=10n Tj1=100
TEXT 296 408 Left 2 ;.temp {Tj1}
TEXT 296 504 Left 2 !.ic V(Vout)={Vin*dutyCycle} V(VG_HS,Vsw)=0 V(VG_LS)=0 V(Vdc)=Vin  I(L1)=Iout V(C2)=5
TEXT -448 224 Left 2 !.param RGD_PU=0.7 RGD_PD=0.4
TEXT -448 200 Left 2 !*uP1966e driver
TEXT 296 552 Left 2 !.option noopiter
TEXT 1488 216 Left 2 !.param CSI=100pH
TEXT 1488 192 Left 2 !.param CSI_DISABLE=0
TEXT 1488 168 Left 2 !.model MYSW SW(Ron=1m Roff=1Meg Vt=0.5 Vh=0.1)
TEXT 1496 320 Left 2 !.meas TRAN Phs AVG V(VG_HS,U1_S)*I(R1g)+V(Vdc,U1_S)*I(R1d)
TEXT 1496 352 Left 2 !.meas TRAN Pls AVG V(VG_LS,U2_S)*I(R2g)+V(Vsw,U2_S)*I(R2d)
TEXT 1496 384 Left 2 !.meas Pgd_hs AVG -V(IN_HS,Vsw)*I(V15)
TEXT 1496 408 Left 2 !.meas Pgd_ls AVG -V(IN_LS)*I(V25)
TEXT 1496 440 Left 2 !.meas Ptot param Phs+Pgd_hs+Pls+Pgd_ls
TEXT 1496 472 Left 2 !.meas Pin AVG -V(Vdc)*I(V1)
TEXT 1496 504 Left 2 !.meas Pout AVG V(Vout)*I(RLoad)
TEXT 1496 528 Left 2 !.meas Ploss param Pin-Pout
TEXT 1496 560 Left 2 !.meas Eff param Pout/Pin
TEXT 1496 592 Left 2 !.meas trg1 WHEN V(VHS)=2.5 RISE=9
TEXT 1496 624 Left 2 !.meas tr1 WHEN V(Vsw)={Vin*0.15} RISE=1 TD=trg1
TEXT 1496 656 Left 2 !.meas tr2 WHEN V(Vsw)={Vin*0.85} RISE=1 TD=tr1
TEXT 1496 680 Left 2 !.meas TRAN Ion FIND I(R1d) AT=tr2
TEXT 1496 712 Left 2 !.meas tI1 WHEN I(R1d)=Ion/20 RISE=1 TD=trg1
TEXT 1496 736 Left 2 !.meas trise_ns param (tr2-tr1)*1e9
TEXT 1496 768 Left 2 !.meas tf1 WHEN V(Vsw)={Vin*0.85} FALL=1 TD=(tr2+dutyCycle/freq*0.8)
TEXT 1496 800 Left 2 !.meas tf2 WHEN V(Vsw)={Vin*0.15} FALL=1 TD=tf1
TEXT 1496 832 Left 2 !.meas tI2 WHEN I(R1d)=Ion/20 FALL=1 TD=tf1
TEXT 1496 864 Left 2 !.meas tfall_ns param (tf2-tf1)*1e9
TEXT 1496 912 Left 2 !.meas dVdtON param Vin*0.7/trise_ns
TEXT 1496 952 Left 2 !.meas dVdtOFF param Vin*0.7/tfall_ns
TEXT 1496 1024 Left 2 !.meas Eon INTEG V(Vdc,U1_S)*I(R1d)*1e6 FROM (tI1-trise_ns/1e9*1) TO (tr2+trise_ns/1e9*2)
TEXT 1496 1088 Left 2 !.meas Eoff INTEG V(Vdc,U1_S)*I(R1d)*1e6 FROM (tf1-tfall_ns/1e9*1) TO (tI2+tfall_ns/1e9*2)
TEXT 1496 1056 Left 2 !.meas Pon param (Eon/1e6*{freq})
TEXT 1496 1120 Left 2 !.meas Poff param (Eoff/1e6*{freq})
TEXT 1496 1152 Left 2 !.meas Pchs param (Phs-Pon-Poff)
TEXT 1496 1184 Left 2 !.meas pldcr AVG V(Vsw1,Vsw)*I(R1)
TEXT 176 -632 Left 2 ;*Gate driver model can be added here
TEXT -448 120 Left 2 !.model GD_PU SW(Ron=1m Roff=1Meg Vt=2.5 Vh=0)
TEXT -448 144 Left 2 !.model GD_PD SW(Ron=1Meg Roff=1m Vt=2.5 Vh=0)
TEXT 1312 -816 Left 2 ;EPC90153 DC resistance (VIN)
TEXT 1080 152 Left 2 ;EPC90153 DC resistance (GND)
TEXT 1424 -192 Left 2 ;EPC90153 DC resistance (SW)
RECTANGLE Normal 560 96 208 -608 1
RECTANGLE Normal 1520 -656 1312 -800 1
RECTANGLE Normal 1504 128 1312 0 1
RECTANGLE Normal 1728 -304 1552 -208 1
